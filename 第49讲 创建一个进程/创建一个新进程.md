## 创建一个新进程

#### fork函数

头文件：

```
#include <unistd.h>
```

函数原型：

```
pid_t fork(void);
```

返回值：

成功 ：0或其他正整数

失败：-1

## fork函数特性

- 执行fork函数之后，fork函数会返回两次

- 在旧进程中返回时，返回值为0

- 在新进程返回时，返回值为进程的pid

叫做复制一个进程更加贴切



#### fork函数要点总结

在执行fork函数之前，操作系统只有一个进程，fork函数之前的代码只会被执行一次。

在执行fork函数之后，操作系统有两个几乎一样的进程，fork函数之后的代码会被执行两次。